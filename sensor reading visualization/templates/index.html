<!-- templates/index.html -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Torque Sensor Dashboard</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
  <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
</head>
<body>
  <div class="container">
    <h1>⚙️ Torque Sensor Dashboard</h1>

    <div class="status-panel">
      <span id="status">Status: Disconnected</span>
      <button id="btn-start">🚀 Start Sensor</button>
    </div>

    <div class="value-panel">
      <h2>🔧 Torque: <span id="torque">--</span> N·cm</h2>
    </div>

    <div id="graph" class="graph"></div>

    <div class="controls">
      <label>🚨 Threshold: <span id="thresh-val">50</span> N·cm</label>
      <input type="range" id="threshold" min="10" max="200" value="50">

      <button id="export-csv">📄 CSV</button>
      <button id="export-pdf">📄 PDF</button>
      <button id="view-history">📊 History</button>
      <button id="toggle-theme">🌙 Toggle Theme</button>
    </div>
  </div>

  <!-- History modal -->
  <div id="history-modal" class="modal">
    <div class="modal-content">
      <span id="close-modal">&times;</span>
      <h3>History (last 100)</h3>
      <div id="history-graph"></div>
    </div>
  </div>

  <script src="{{ url_for('static', filename='script.js') }}"></script>
</body>
</html>
